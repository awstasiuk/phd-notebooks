; delay definitions
define delay delay0
"delay0=(d20-p1)/2"
define delay delay1
"delay1=d20-p1"
define delay tau1
"tau1=d3*(1+cnst1+2*cnst2)-p1/2"
define delay tau2
"tau2=d3*(1-cnst2)-p1"
define delay tau3 
"tau3 = 2*d3*(1-cnst2)-p1"
define delay tau1p 
"tau1p = d3*2*(1-cnst1+2*cnst2)-p1"
"l1=0"  ; start the evolution counter at 0

1   ze

2
d1 rpp1 rpp2 rpp3 rpp4 rpp6 rpp7 rpp8 rpp9 rpp11 rpp12 rpp13 rpp14
100u pl2:f2
(p1 ph0):f2
1.5u

3
delay0
(p1 ph1^):f2
delay1
(p1 ph2^):f2
delay1
(p1 ph3^):f2
delay1
(p1 ph4^):f2
delay0

lo to 3 times 15

(p1 ph5):f2
1.5u
4
tau1
(p1 ph6^):f2
tau2
(p1 ph7^):f2
tau3
(p1 ph8^):f2
tau2
(p1 ph9^):f2
tau1p
(p1 ph6^):f2
tau2
(p1 ph7^):f2
tau3
(p1 ph8^):f2
tau2
(p1 ph9^):f2
tau1

lo to 4 times l1
(p1 ph10):f2
1.5u

5
delay0
(p1 ph11^):f2
delay1
(p1 ph12^):f2
delay1
(p1 ph13^):f2
delay1
(p1 ph14^):f2
delay0

lo to 5 times 15

(p1 ph15):f2
1.5u
1m
(p1 ph29):f2
20u
(p1 ph30):f2

go=2 ph31
1m wr #0 if #0

iu1
iu1

25m ip10*192
25m ip11*192
25m ip12*192
25m ip13*192
25m ip14*192
25m ip15*192

lo to 2 times td1

exit
ph0 = (360) 90 90 270 270 0 0 180 180

ph1 = (360) 102 60 198 246 204 342 30 348 126 174 132 270 318 276 54
ph2 = (360) 24 72 300 168 216 84 312 0 228 96 144 12 240 288 156
ph3 = (360) 36 264 312 180 48 96 324 192 240 108 336 24 252 120 168
ph4 = (360) 318 276 54 102 60 198 246 204 342 30 348 126 174 132 270

ph5 = (360) 12 12 192 192 282 282 102 102

ph6 = (360) 24 72 300 348 216 264 132 180 48 96 324 12 240 288 156 204 72 120 348 36 264 312 180 228 96 144 12 60 288 336 204 252 120 168 36 84 312 0 228 276 144 192 60 108 336 24 252 300 168 216 84 132 0 48 276 324 192 240 108 156 24 72 300 348 216 264 132 180 48 96 324 12 240 288 156 204 72 120 348 36 264 312 180 228 96 144 12 60 288 336 204 252 120 168 36 84 312 0 228 276 144 192 60 108 336 24 252 300 168 216 84 132 0 48 276 324 192 240 108 156
ph7 = (360) 126 174 42 90 318 6 234 282 150 198 66 114 342 30 258 306 174 222 90 138 6 54 282 330 198 246 114 162 30 78 306 354 222 270 138 186 54 102 330 18 246 294 162 210 78 126 354 42 270 318 186 234 102 150 18 66 294 342 210 258 126 174 42 90 318 6 234 282 150 198 66 114 342 30 258 306 174 222 90 138 6 54 282 330 198 246 114 162 30 78 306 354 222 270 138 186 54 102 330 18 246 294 162 210 78 126 354 42 270 318 186 234 102 150 18 66 294 342 210 258
ph8 = (360) 138 186 54 102 330 18 246 294 162 210 78 126 354 42 270 318 186 234 102 150 18 66 294 342 210 258 126 174 42 90 318 6 234 282 150 198 66 114 342 30 258 306 174 222 90 138 6 54 282 330 198 246 114 162 30 78 306 354 222 270 138 186 54 102 330 18 246 294 162 210 78 126 354 42 270 318 186 234 102 150 18 66 294 342 210 258 126 174 42 90 318 6 234 282 150 198 66 114 342 30 258 306 174 222 90 138 6 54 282 330 198 246 114 162 30 78 306 354 222 270
ph9 = (360) 60 108 336 24 252 300 168 216 84 132 0 48 276 324 192 240 108 156 24 72 300 348 216 264 132 180 48 96 324 12 240 288 156 204 72 120 348 36 264 312 180 228 96 144 12 60 288 336 204 252 120 168 36 84 312 0 228 276 144 192 60 108 336 24 252 300 168 216 84 132 0 48 276 324 192 240 108 156 24 72 300 348 216 264 132 180 48 96 324 12 240 288 156 204 72 120 348 36 264 312 180 228 96 144 12 60 288 336 204 252 120 168 36 84 312 0 228 276 144 192

ph10 = (360) 24 24 24 24 24 24 24 24 204 204 204 204 204 204 204 204

ph11 = (360) 126 84 222 270 228 6 54 12 150 198 156 294 342 300 78
ph12 = (360) 48 96 324 192 240 108 336 24 252 120 168 36 264 312 180
ph13 = (360) 60 288 336 204 72 120 348 216 264 132 0 48 276 144 192
ph14 = (360) 342 300 78 126 84 222 270 228 6 54 12 150 198 156 294

ph15 = (360) 306 306 306 306 306 306 306 306 126 126 126 126 126 126 126 126

ph29 = (360) 0 180
ph30 = (360) 90 270
ph31 = 0 2